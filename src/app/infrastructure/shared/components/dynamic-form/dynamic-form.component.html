<div class="card" *transloco="let translate">
  <h2 class="card-header">
    <ng-container *ngIf="formConfig.formTitleParams; else noParams">
      {{
        translate(formConfig.formTitle, {
          value: translate(formConfig.formTitleParams)
        })
      }}
      <span
        *ngIf="(activeLangIsDefaultLang$ | async) === false"
        class="default-lang-text"
      >
        /
        {{
          getFormTitleParamsDefaultLanguageText({
            value: formConfig.formTitleParams
          })
        }}
      </span>
    </ng-container>
    <ng-template #noParams>
      {{ translate(formConfig.formTitle) }}
      <span
        *ngIf="(activeLangIsDefaultLang$ | async) === false"
        class="default-lang-text"
      >
        /
        <span
          [transloco]="formConfig.formTitle"
          [translocoLang]="translocoConfig.defaultLang + '|static'"
        ></span>
      </span>
    </ng-template>
  </h2>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <ng-container *ngIf="formConfig.controls.length">
      <ng-container
        *ngFor="let field of formConfig.controls; trackBy: 'name' | trackByKey"
        appDynamicField
        [fieldConfig]="field"
        [group]="form"
      ></ng-container>
    </ng-container>
    <app-save-cancel
      class="save-cancel-container"
      [buttonConfig]="formConfig.submit"
      [form]="form"
      [shouldDisable]="!form.valid"
      (emitSubmit)="submit()"
    ></app-save-cancel>
  </form>
</div>
