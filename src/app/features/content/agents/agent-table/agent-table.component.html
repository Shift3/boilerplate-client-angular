<ng-container *transloco="let translate">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">
          {{
            translate(dynamicTableTranslationKeys.header.name) | localeuppercase
          }}
        </th>
        <th scope="col">
          {{
            translate(dynamicTableTranslationKeys.header.description)
              | localeuppercase
          }}
        </th>
        <th scope="col">
          {{
            translate(dynamicTableTranslationKeys.header.email)
              | localeuppercase
          }}
        </th>
        <th scope="col">
          {{
            translate(dynamicTableTranslationKeys.header.phoneNumber)
              | localeuppercase
          }}
        </th>
        <ng-container *ngIf="checkRole.canEdit">
          <th scope="col w-10">
            {{
              translate(dynamicTableTranslationKeys.header.actions)
                | localeuppercase
            }}
          </th>
        </ng-container>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngIf="tableData.length">
        <tr *ngFor="let item of tableData; trackBy: 'id' | trackByKey">
          <td class="name-container">
            <ng-container *ngIf="item.thumbnail">
              <img
                class="thumbnail-container"
                [src]="item.thumbnail"
                alt="{{ item.name }} {{
                  translate(dynamicTableTranslationKeys.body.thumbnail)
                }}"
              />
            </ng-container>
            {{ item.name }}
          </td>
          <td>{{ item.description }}</td>
          <td>{{ item.email }}</td>
          <td>{{ item.phoneNumber }}</td>
          <ng-container *ngIf="checkRole.canEdit">
            <td class="w-10">
              <button
                class="btn"
                type="button"
                tooltip="{{
                  translate(dynamicTableTranslationKeys.tooltip.updateAgent)
                }}"
                routerLink="/content/update-agent/{{ item.id }}"
              >
                <span class="fa fa-edit"></span>
                <span class="sr-only">
                  {{
                    translate(dynamicTableTranslationKeys.tooltip.updateAgent)
                  }}
                </span>
              </button>
              <ng-container *ngIf="checkRole.isAdmin">
                <button
                  class="btn"
                  type="button"
                  tooltip="{{
                    translate(dynamicTableTranslationKeys.tooltip.deleteAgent)
                  }}"
                  (click)="deleteAgent(item)"
                >
                  <span class="fa fa-trash"></span>
                  <span class="sr-only">
                    {{
                      translate(dynamicTableTranslationKeys.tooltip.deleteAgent)
                    }}
                  </span>
                </button>
              </ng-container>
            </td>
          </ng-container>
        </tr>
      </ng-container>
    </tbody>
  </table>
  <div class="center" *ngIf="!tableData.length">
    {{ translate(dynamicTableTranslationKeys.body.emptyListMessage) }}
  </div>
</ng-container>
<ng-template #popContent let-agent="agent"
  ><app-select-language
    [agent]="agent"
    (emitSelectLanguage)="selectLanguage($event)"
  ></app-select-language
></ng-template>
